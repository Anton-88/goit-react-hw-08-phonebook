(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{156:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a={initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3}}},168:function(t,e,n){t.exports={form:"ContactForm_form__3sO1m",label:"ContactForm_label__1En3t",input:"ContactForm_input__1yajH",btn:"ContactForm_btn__144Hj"}},169:function(t,e,n){t.exports={label:"Filter_label__1KQZ8",input:"Filter_input__2g5r2"}},170:function(t,e,n){t.exports={list:"ContactList_list__2Ftq7",item:"ContactList_item__MrBdu",info:"ContactList_info__23ys7"}},171:function(t,e,n){t.exports={wrapper:"ContactsView_wrapper__8UA_3"}},193:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return z}));var a={};n.r(a),n.d(a,"fetchContacts",(function(){return j})),n.d(a,"addContact",(function(){return d})),n.d(a,"deleteContact",(function(){return f}));var c={};n.r(c),n.d(c,"getContacts",(function(){return O})),n.d(c,"getLoading",(function(){return h})),n.d(c,"getError",(function(){return p})),n.d(c,"getFilter",(function(){return x})),n.d(c,"getFilteredContacts",(function(){return C}));var r=n(13),i=n(0),o=n(157),s=n(26),u=n.n(s),l=n(11),b=n(32),j=function(){return function(t){t(Object(l.fetchContactsRequest)()),u.a.get("/contacts").then((function(e){var n=e.data;return t(Object(l.fetchContactsSuccess)(n))})).catch((function(e){t(Object(l.fetchContactsError)(e)),b.b.error("Please reload page!")}))}},d=function(t,e){return function(n){var a={name:t,number:e};n(Object(l.addContactRequest)()),u.a.post("/contacts",a).then((function(t){var e=t.data;return n(Object(l.addContactSuccess)(e))})).catch((function(t){n(Object(l.addContactError)(t)),b.b.error("Please reload page!")}))}},f=function(t){return function(e){e(Object(l.deleteContactRequest)()),u.a.delete("/contacts/".concat(t)).then((function(){return e(Object(l.deleteContactSuccess)(t))})).catch((function(t){e(Object(l.deleteContactError)(t)),b.b.error(" Please reload page!")}))}},m=n(46),O=function(t){return t.contacts.items},h=function(t){return t.contacts.isLoading},p=function(t){return t.contacts.error},x=function(t){return t.contacts.filter},C=Object(m.a)([O,x],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),g=n(151),_=n(57),v=n(167),y=n(168),N=n.n(y),w=n(3);var F=function(){var t=Object(r.b)(),e=Object(r.c)(c.getContacts),n=Object(r.c)(c.getLoading),s=Object(i.useState)(""),u=Object(o.a)(s,2),l=u[0],j=u[1],d=Object(i.useState)(""),f=Object(o.a)(d,2),m=f[0],O=f[1],h=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":j(a);break;case"number":O(a);break;default:return}},p=function(){j(""),O("")};return Object(w.jsxs)("form",{className:N.a.form,onSubmit:function(n){return n.preventDefault(),function(t){return e.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))}(l)?Object(b.b)("".concat(l," is already in your contacts")):function(t){return e.find((function(e){return e.number===t}))}(m)?Object(b.b)("".concat(m," is already in your contacts")):function(t,e){return""===t.trim()||""===e.trim()}(l,m)?b.b.info("Enter the contact's name and number phone"):(t(a.addContact(l,m)),void p())},children:[Object(w.jsxs)("label",{className:N.a.label,children:["Name",Object(w.jsx)("input",{className:N.a.input,type:"text",name:"name",value:l,onChange:h,placeholder:"Enter name"})]}),Object(w.jsxs)("label",{className:N.a.label,children:["Number",Object(w.jsx)(v.a,{placeholder:"Enter phone number",format:"(###) ###-##-##",mask:"_",pattern:"^[0-9\\s\\(\\)\\-]{15}",type:"tel",name:"number",value:m,onChange:h,className:N.a.input})]}),!n&&Object(w.jsx)(g.a,{variant:"contained",color:"secondary",size:"large",type:"submit",children:"Add contact"}),n&&Object(w.jsx)(_.a,{})]})},k=n(158),L=n(156),E=n(169),S=n.n(E);var P=function(){var t=Object(r.b)(),e=Object(r.c)(c.getFilter),n=Object(r.c)(c.getContacts);return Object(w.jsx)(w.Fragment,{children:n.length>0&&Object(w.jsx)(k.a,{children:Object(w.jsx)("label",{className:S.a.label,children:Object(w.jsx)(k.b.input,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:L.a,className:S.a.input,type:"text",value:e,placeholder:"Please, enter value to find contact...",onChange:function(e){return t(l.filterContact(e.target.value))}})})})})},q=n(191),R=n(170),A=n.n(R);var D=function(){var t=Object(r.b)(),e=Object(r.c)(c.getFilteredContacts),n=Object(r.c)(c.getContacts);return Object(w.jsxs)(w.Fragment,{children:[n.length>0&&Object(w.jsx)(k.b.ul,{className:A.a.list,children:Object(w.jsx)(k.a,{children:e.map((function(e){var n=e.id,c=e.name,r=e.number;return Object(w.jsxs)(k.b.li,{className:A.a.item,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:L.a,children:[Object(w.jsxs)("p",{className:A.a.info,children:[Object(w.jsx)("b",{children:c}),Object(w.jsx)("em",{children:r})]}),Object(w.jsx)(q.a,{"aria-label":"delete",color:"secondary",type:"button",onClick:function(){return t(a.deleteContact(n))},children:"Del"})]},n)}))})}),!n.length&&Object(w.jsx)(k.a,{children:Object(w.jsx)(k.b.p,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:L.a,children:"No contacts in your phonebook, please add some!"})})]})},H=n(171),J=n.n(H);function z(){var t=Object(r.b)();return Object(i.useEffect)((function(){return t(a.fetchContacts())}),[t]),Object(w.jsxs)("div",{className:J.a.wrapper,children:[Object(w.jsx)("h1",{children:"Phonebook"}),Object(w.jsx)(F,{}),Object(w.jsx)("h2",{children:"Contacts"}),Object(w.jsx)(P,{}),Object(w.jsx)(D,{})]})}}}]);
//# sourceMappingURL=contacts page.cad95ec1.chunk.js.map